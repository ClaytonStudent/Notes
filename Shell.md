## Shell

### 1. Shell是什么

1. 是一个程序，提供内核与用户对话的环境: User --- Shell --- Kernel
2. 命令解释器，可以写出各种script.
3. 工具箱

Bash 是目前最常用的 Shell，基本可以相等

### 2. 常用命令

`echo` 是在屏幕上输出一行文本， 如果想要输出的是多行文本，即包括换行符。这时需要把多行文本放在引号里面。

`-n`取消末尾的回车符，可以让两个`echo`输出连在一起

`-e`参数会解释引号（双引号和单引号）里面的特殊字符

```bash
$ echo "Hello\nWorld"
Hello\nWorld
# 将换行符解释出来
$ echo -e "Hello\nWorld"
Hello
World
```

Shell组成：由命令和参数组成，参数前的 -l 和 --list 作用相同，一般用短的便于输入

多行命令：在每一行的结尾加上反斜杠`\`，和下一行一起解释

空格区分参数，自动忽略多余的空格

分号（`;`）是命令的结束符，使得一行可以放置多个命令，上一个命令执行结束后，再执行第二个命令

```bash
# 如果1运行成功，继续运行2
Command1 && Command2 
# 如果1运行失败，继续运行2
Command1 || Command2
```

`type`命令用来判断命令的来源: 内置命令或者外部程序

### 3.八种拓展

Shell 接收到用户输入的命令以后，会根据空格将用户的输入，拆分成一个个词元（token）。然后，Shell 会扩展词元里面的特殊字符，扩展完成后才会调用相应的命令 ： 命令---词元---扩展---调用

```bash
$ set -f # 关闭扩展
$ set +f # 打开扩展
```

#### 

`~`会自动扩展成当前用户的主目录

`~+`会扩展成当前所在的目录，等同于`pwd`命令

`?`字符代表文件路径里面的任意单个字符，不包括空字符

`*`字符代表文件路径里面任意数量的任意字符，包括零个字符

不包含隐藏文件，只匹配当前目录，不匹配子目录

`[]`匹配方括号之中任意一个字符

`[!]`或者`[°]`匹配不在方括号里面的字符

`[start-end]`匹配连续的范围，例如`[1-9]`

`{}`表示分别扩展成大括号里面的所有值，用逗号分隔

`{start-end}`扩展成连续序列，支持逆序



### Sed

sed是一种流编辑器，一次处理一行。处理时，把当前处理的行存储在临时缓冲区，完成后把内容送往屏幕，再处理下一行。

基本用法 sed [] 'command' filename

| 参数 | 功能                                |
| ---- | ----------------------------------- |
| -e   | 直接在指令列模式上进行sed的动作编辑 |

| 命令 | 功能       |
| ---- | ---------- |
| a    | 新增       |
| d    | 删除       |
| s    | 查找并替换 |



NF is for the number of fields in the current record. 列数
NR is for the number of records in the input file. 行数

